DirectoryIndex index.php index.html index.htm

# Laravel support
<IfModule mod_rewrite.c>
<IfModule mod_negotiation.c>
Options -MultiViews
</IfModule>

RewriteEngine On

# Redirect Trailing Slashes...
RewriteRule ^(.*)/$ /$1 [L,R=301]

# Handle Front Controller...
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^ index.php [L]
</IfModule>

# HSTS header
<IfModule mod_headers.c>
  Header set Strict-Transport-Security "max-age=10886400; includeSubDomains; preload"
</IfModule>

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteCond %{HTTP:X-Forwarded-Proto} =http
  RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [R=301,L]
  RewriteCond %{HTTP:Host} ^tedxkmitl.com$ [NC]
  RewriteRule ^(.*)$ https://www.%{HTTP:HOST}%{REQUEST_URI} [R=301,L]
</IfModule>

<IfModule mod_deflate.c>
  <IfModule mod_setenvif.c>
    <IfModule mod_headers.c>
      SetEnvIfNoCase ^(Accept-EncodXng|X-cept-Encoding|X{15}|~{15}|-{15})$ ^((gzip|deflate)\s*,?\s*)+|[X~-]{4,13}$ HAVE_Accept-Encoding
      RequestHeader append Accept-Encoding "gzip,deflate" env=HAVE_Accept-Encoding
    </IfModule>
  </IfModule>
  <IfModule mod_filter.c>
    AddOutputFilterByType DEFLATE \
      application/atom+xml \
      application/javascript \
      application/json \
      application/ld+json \
      application/rss+xml \
      application/vnd.ms-fontobject \
      application/x-font-ttf \
      application/x-web-app-manifest+json \
      application/xhtml+xml \
      application/xml \
      font/opentype \
      image/svg+xml \
      image/x-icon \
      text/css \
      text/html \
      text/plain \
      text/x-component \
      text/xml
  </IfModule>
</IfModule>

# set css and js cache
<FilesMatch "\.(jpg|jpeg|png|gif|swf|svg|css|js)$">
    Header set Cache-Control "max-age=604800, public"
</FilesMatch>

Options -Indexes
Options +FollowSymlinks

<Files .htaccess>
  deny from all
</Files>

<Files appspec.yml>
  deny from all
</Files>
